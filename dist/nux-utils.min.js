!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).nuxUtils=t()}(this,function(){"use strict";var a=function(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else for(var o=0,r=e.length;o<r;o++)t.call(n,e[o],o,e)},e={arrayEqual:function(e,t){if(e===t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},arrayEach:a},t={},o=Object.getPrototypeOf,r=t.hasOwnProperty,i=r.toString,s=i.call(Object),d=function(e){var t,n;return!(!e||"[object Object]"!==toString.call(e))&&(!(t=o(e))||"function"==typeof(n=r.call(t,"constructor")&&t.constructor)&&i.call(n)===s)};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=function e(t){var n,o,r,a,i,s,c=t||{},u=1,l=arguments.length,f=!1;for("boolean"==typeof c&&(f=c,c=arguments[u]||{},u++),"object"!==p(c)&&"function"!=typeof c&&(c={});u<l;u++)if(null!=(n=arguments[u]))for(o in n)a=n[o],"__proto__"!==o&&c!==a&&(f&&a&&(d(a)||(i=Array.isArray(a)))?(r=c[o],s=i&&!Array.isArray(r)?[]:i||d(r)?r:{},i=!1,c[o]=e(f,s,a)):void 0!==a&&(c[o]=a));return c};function n(e,t,n,o){l(e,"",Date(0),t,n,o)}var u={isPlainObject:d,assign:c,deepClone:function e(t){var n;if(null==t||"object"!=p(t))return t;if(t instanceof Date)return(n=new Date).setTime(t.getTime()),n;if(t instanceof Array){n=[];for(var o=0,r=t.length;o<r;o++)n[o]=e(t[o]);return n}if(t instanceof Object){for(var a in n={},t)t.hasOwnProperty(a)&&(n[a]=e(t[a]));return n}throw new Error("Unable to copy values! Its type isn't supported.")},isEmptyObject:function(e){return!(!e||"object"!==p(e)||Array.isArray(e))&&!Object.keys(e).length}},l=function(e,t,n,o,r,a){var i="";i+=encodeURIComponent(e)+"="+encodeURIComponent(t),n instanceof Date&&(i+="; expires="+n.toGMTString()),r&&(i+="; path="+r),o&&(i+="; domain="+o),a&&(i+="; secure"),document.cookie=i},f={setCookie:l,getCookie:function(e){var t=encodeURIComponent(e)+"=",n=document.cookie.indexOf(t),o="";if(-1<n){var r=document.cookie.indexOf(";",n);-1==r&&(r=document.cookie.length),o=decodeURIComponent(document.cookie.substring(n+t.length,r))}return o},removeCookie:n};var g={urlQuery2Object:function(e){if(-1===(e=e||window.location.href).indexOf("?"))return{};var t="?"===e[0]?e.substr(1):e.substring(e.lastIndexOf("?")+1);if(""===t)return{};t=t.split("&");for(var n={},o=0;o<t.length;o++){var r=t[o].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return n},object2UrlQuery:function(e){if(!e)return"";var t=[];for(var n in e){var o=e[n];if(o instanceof Array)for(var r=0;r<o.length;++r)t.push(encodeURIComponent(n+"["+r+"]")+"="+encodeURIComponent(o[r]));else t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}return t.join("&")}},m=t.toString;"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(e){t["[object "+e+"]"]=e.toLowerCase()});var h=function(e){return null==e?e+"":"object"===p(e)?t[m.call(e)]||"object":p(e)},y={toType:h},v={},b=("undefined"==typeof document?"undefined":p(document))===v?0:document,w=("undefined"==typeof window?"undefined":p(window))===v?0:window;function M(e){try{return e.setItem("__xe_t",1),e.removeItem("__xe_t"),!0}catch(e){return!1}}function C(e){return-1<navigator.userAgent.indexOf(e)}function O(e){if(!e)return"";var t=[];for(var n in e)if(e.hasOwnProperty(n)&&"function"!=typeof e[n]){var o=e[n].toString();n=encodeURIComponent(n.replace("%20","+")),o=encodeURIComponent(o.replace("%20","+")),t.push(n+"="+o)}return t.join("&")}function j(){}var T={browser:function(){var t,e,n,o=!1,r={isNode:!1,isMobile:o,isPC:!1,isDoc:!!b};return w||("undefined"==typeof process?"undefined":p(process))===v?(n=C("Edge"),e=C("Chrome"),o=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),r.isDoc&&(t=b.body||b.documentElement,a(["webkit","khtml","moz","ms","o"],function(e){r["-"+e]=!!t[e+"MatchesSelector"]})),c(r,{edge:n,firefox:C("Firefox"),msie:!n&&r["-ms"],safari:!e&&!n&&C("Safari"),isMobile:o,isPC:!o,isLocalStorage:M(w.localStorage),isSessionStorage:M(w.sessionStorage)})):r.isNode=!0,r},ajax:function(e){void 0===window.XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){throw new Error("不支持XMLHttpRequest")}}});var t,n={url:"",type:"GET",data:null,contentType:"application/x-www-form-urlencoded",timeOut:5e3,files:[],progress:null,before:j,success:j,error:j,complete:j};if(Object.assign)e=Object.assign({},n,e);else{for(var o in n)n[o]=e[o]||n[o];e=n}("GET"===(t=e).type?function(t){var n=new window.XMLHttpRequest,o=!1,r=setTimeout(function(){o=!0,n.abort()},t.timeOut);n.open("GET",t.url+"?"+O(t.data)),t.before(),n.onreadystatechange=function(){if(4===n.readyState){if(o)return;if(clearTimeout(r),200===n.status){var e=n.getResponseHeader("Content-Type");-1!==e.indexOf("xml")&&n.responseXML?t.success(n.responseXML):-1!==e.indexOf("application/json")?t.success(JSON.parse(n.responseText)):t.success(n.responseText)}else t.error(n);t.complete()}},n.send(null)}:function(t){var n=new XMLHttpRequest,e=null,o=!1,r=setTimeout(function(){o=!0,n.abort()},t.timeOut);n.open("POST",t.url),n.onreadystatechange=function(){if(4===n.readyState){if(o)return;if(clearTimeout(r),200===n.status){var e=n.getResponseHeader("Content-Type");-1!==e.indexOf("xml")&&n.responseXML?t.success(n.responseXML):-1!==e.indexOf("application/json")?t.success(JSON.parse(n.responseText)):t.success(n.responseText)}else t.error(n);t.complete()}},t.progress.enable&&n.upload&&(n.upload.onprogress=function(e){e.lengthComputable&&t.progress.receiveHandle(e)},n.upload.onload=function(e){t.progress.successHandle(e)});if("application/x-www-form-urlencoded"===t.contentType)n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e=O(t.data);else if("application/json"===t.contentType)n.setRequestHeader("Content-Type","application/json; charset=utf-8"),e=JSON.stringify(t.data);else if("multipart/form-data"===t.contentType){var a=new FormData;for(var i in t.data)t.data.hasOwnProperty(i)&&"function"!=typeof t.data[i]&&a.append(i,t.data[i]);for(var s=0;s<t.files.length;s++)a.append("file"+s,t.files[s]);e=a}n.send(e)})(t)}},x=window.document,D={type:!0,src:!0,nonce:!0,noModule:!0};var S={domEval:function(e,t,n){var o,r,a=(n=n||x).createElement("script");if(a.text=e,t)for(o in D)(r=t[o]||t.getAttribute&&t.getAttribute(o))&&a.setAttribute(o,r);n.head.appendChild(a).parentNode.removeChild(a)},trigger:function(e,t,n){var o,r={bubbles:!0,cancelable:!0,detail:n=n||{}};try{"undefined"!=typeof CustomEvent?o=new CustomEvent(t,r):(o=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e&&e.dispatchEvent(o)}catch(e){console.warn("jinux-trigger is not supported by environment.")}}};var E={date2string:function(e,t,n){var o,r=arguments,a=e||new Date,i=t,s=n;if(0===r.length&&(i="-"),1===r.length)if("string"===h(a))i=a,a=new Date;else if("date"==h(a))i="-";else{if("boolean"!==h(a))return"arguments error";a=new Date,i="-",s=e}if(2===r.length&&("date"!==h(a)||"string"!==h(i)))if("date"===h(a)&&"boolean"===h(i))i="-",s=t;else{if("string"!==h(a)||"boolean"!==h(i))return"arguments error";a=new Date,i=e,s=t}if(3<=r.length&&("date"!==h(a)||"string"!=h(i)||"boolean"!=h(s)))return"arguments error";var c=a.getFullYear(),u=9<a.getMonth()+1?a.getMonth()+1:"0"+(a.getMonth()+1),l=9<a.getDate()?a.getDate():"0"+a.getDate(),f=9<a.getHours()?a.getHours():"0"+a.getHours(),d=9<a.getMinutes()?a.getMinutes():"0"+a.getMinutes(),p=9<a.getSeconds()?a.getSeconds():"0"+a.getSeconds();return o=c+i+u+i+l,s&&(o+=" "+f+":"+d+":"+p),o},getRangeDate:function(e,t){var n=t||"-";if("today"===e){var o=new Date,r=o.getFullYear()+n+(9<o.getMonth()+1?o.getMonth()+1:"0"+(o.getMonth()+1))+n+(9<o.getDate()?o.getDate():"0"+o.getDate());return[r,r]}if("week"===e){var a=new Date,i=[],s=a.getFullYear(),c=9<a.getMonth()+1?a.getMonth()+1:"0"+(a.getMonth()+1),u=a.getDay(),l=a.getDate();return a.setDate(l-u),i.push(s+n+c+n+a.getDate()),a.setDate(a.getDate()+6),i.push(s+n+c+n+a.getDate()),i}var f,d,p=new Date,g=[],m=p.getFullYear(),h=9<p.getMonth()+1?p.getMonth()+1:"0"+(p.getMonth()+1);return g.push(m+n+h+n+"01"),f=p.getMonth(),p.setDate(1),p.setMonth(f+1),p.setDate(0),d=p.getDate(),g.push(m+n+h+n+d),g}};var R={randomNum:function(e,t,n){return n?Math.floor(Math.random()*(t-e+1))+e:Math.random()*(t-e)+e},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)}};var k={debounce:function(e,t,n){function o(){u=!0,l=0,e.apply(s,i)}function r(){!0===d&&(l=0),u||!0!==p||o()}function a(){u=!1,i=arguments,s=this,0===l?!0===d&&o():clearTimeout(l),l=setTimeout(r,t)}var i,s,c=n||{},u=!1,l=0,f="boolean"==typeof n,d="leading"in c?c.leading:f,p="trailing"in c?c.trailing:!f;return a.cancel=function(){var e=0!==l;return clearTimeout(l),l=0,e},a},throttle:function(e,t,n){function o(){c=!0,e.apply(i,a),u=setTimeout(d,t)}function r(){a=arguments,i=this,c=!1,0===u&&(!0===l?o():!0===f&&(u=setTimeout(d,t)))}var a,i,s=n||{},c=!1,u=0,l=!("leading"in s)||s.leading,f="trailing"in s&&s.trailing,d=function(){u=0,c||!0!==f||o()};return r.cancel=function(){var e=0!==u;return clearTimeout(u),c=!1,u=0,e},r}};return{arrayEqual:e.arrayEqual,arrayEach:e.arrayEach,isPlainObject:u.isPlainObject,assign:u.assign,deepClone:u.deepClone,isEmptyObject:u.isEmptyObject,setCookie:f.setCookie,getCookie:f.getCookie,removeCookie:f.removeCookie,urlQuery2Object:g.urlQuery2Object,object2UrlQuery:g.object2UrlQuery,toType:y.toType,browser:T.browser,ajax:T.ajax,domEval:S.domEval,trigger:S.trigger,price2chinese:{price2chinese:function(e){var t=["角","分"],n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],o=[["元","万","亿"],["","拾","佰","仟"]],r=e<0?"欠":"";e=Math.abs(e);for(var a="",i=0;i<t.length;i++)a+=(n[Math.floor(10*e*Math.pow(10,i))%10]+t[i]).replace(/零./,"");for(a=a||"整",e=Math.floor(e),i=0;i<o[0].length&&0<e;i++){for(var s="",c=0;c<o[1].length&&0<e;c++)s=n[e%10]+o[1][c]+s,e=Math.floor(e/10);a=s.replace(/(零.)*零$/,"").replace(/^$/,"零")+o[0][i]+a}return r+a.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}}.price2chinese,date2string:E.date2string,getRangeDate:E.getRangeDate,randomNum:R.randomNum,randomColor:R.randomColor,debounce:k.debounce,throttle:k.throttle}});
