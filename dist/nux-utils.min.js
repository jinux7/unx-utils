!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).nuxUtils=t()}(this,function(){"use strict";var a=function(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else for(var r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},e={arrayEqual:function(e,t){if(e===t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},arrayEach:a},t={},r=Object.getPrototypeOf,o=t.hasOwnProperty,c=o.toString,u=c.call(Object),d=function(e){var t,n;return!(!e||"[object Object]"!==toString.call(e))&&(!(t=r(e))||"function"==typeof(n=o.call(t,"constructor")&&t.constructor)&&c.call(n)===u)};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=function e(t){var n,r,o,a,i,c,u=t||{},s=1,l=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[s]||{},s++),"object"!==p(u)&&"function"!=typeof u&&(u={});s<l;s++)if(null!=(n=arguments[s]))for(r in n)a=n[r],"__proto__"!==r&&u!==a&&(f&&a&&(d(a)||(i=Array.isArray(a)))?(o=u[r],c=i&&!Array.isArray(o)?[]:i||d(o)?o:{},i=!1,u[r]=e(f,c,a)):void 0!==a&&(u[r]=a));return u};function n(e,t,n,r){f(e,"",Date(0),t,n,r)}var l={isPlainObject:d,assign:s,deepClone:function e(t){var n;if(null==t||"object"!=p(t))return t;if(t instanceof Date)return(n=new Date).setTime(t.getTime()),n;if(t instanceof Array){n=[];for(var r=0,o=t.length;r<o;r++)n[r]=e(t[r]);return n}if(t instanceof Object){for(var a in n={},t)t.hasOwnProperty(a)&&(n[a]=e(t[a]));return n}throw new Error("Unable to copy values! Its type isn't supported.")},isEmptyObject:function(e){return!(!e||"object"!==p(e)||Array.isArray(e))&&!Object.keys(e).length}},f=function(e,t,n,r,o,a){var i="";i+=encodeURIComponent(e)+"="+encodeURIComponent(t),n instanceof Date&&(i+="; expires="+n.toGMTString()),o&&(i+="; path="+o),r&&(i+="; domain="+r),a&&(i+="; secure"),document.cookie=i},g={setCookie:f,getCookie:function(e){var t=encodeURIComponent(e)+"=",n=document.cookie.indexOf(t),r="";if(-1<n){var o=document.cookie.indexOf(";",n);-1==o&&(o=document.cookie.length),r=decodeURIComponent(document.cookie.substring(n+t.length,o))}return r},removeCookie:n};var m={urlQuery2Object:function(e){if(-1===(e=e||window.location.href).indexOf("?"))return{};var t="?"===e[0]?e.substr(1):e.substring(e.lastIndexOf("?")+1);if(""===t)return{};t=t.split("&");for(var n={},r=0;r<t.length;r++){var o=t[r].split("=");n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return n},object2UrlQuery:function(e){if(!e)return"";var t=[];for(var n in e){var r=e[n];if(r instanceof Array)for(var o=0;o<r.length;++o)t.push(encodeURIComponent(n+"["+o+"]")+"="+encodeURIComponent(r[o]));else t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}return t.join("&")}},y=t.toString;"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(e){t["[object "+e+"]"]=e.toLowerCase()});var h=function(e){return null==e?e+"":"object"===p(e)?t[y.call(e)]||"object":p(e)},v={toType:h},b={},w=("undefined"==typeof document?"undefined":p(document))===b?0:document,M=("undefined"==typeof window?"undefined":p(window))===b?0:window;function C(e){try{return e.setItem("__xe_t",1),e.removeItem("__xe_t"),!0}catch(e){return!1}}function O(e){return-1<navigator.userAgent.indexOf(e)}function T(e){if(!e)return"";var t=[];for(var n in e)if(e.hasOwnProperty(n)&&"function"!=typeof e[n]){var r=e[n].toString();n=encodeURIComponent(n.replace("%20","+")),r=encodeURIComponent(r.replace("%20","+")),t.push(n+"="+r)}return t.join("&")}function j(){}var S={browser:function(){var t,e,n,r=!1,o={isNode:!1,isMobile:r,isPC:!1,isDoc:!!w};return M||("undefined"==typeof process?"undefined":p(process))===b?(n=O("Edge"),e=O("Chrome"),r=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),o.isDoc&&(t=w.body||w.documentElement,a(["webkit","khtml","moz","ms","o"],function(e){o["-"+e]=!!t[e+"MatchesSelector"]})),s(o,{edge:n,firefox:O("Firefox"),msie:!n&&o["-ms"],safari:!e&&!n&&O("Safari"),isMobile:r,isPC:!r,isLocalStorage:C(M.localStorage),isSessionStorage:C(M.sessionStorage)})):o.isNode=!0,o},ajax:function(e){void 0===window.XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){throw new Error("不支持XMLHttpRequest")}}});var t,n={url:"",type:"GET",data:null,contentType:"application/x-www-form-urlencoded",timeOut:5e3,files:[],progress:null,before:j,success:j,error:j,complete:j};if(Object.assign)e=Object.assign({},n,e);else{for(var r in n)n[r]=e[r]||n[r];e=n}("GET"===(t=e).type?function(t){var n=new window.XMLHttpRequest,r=!1,o=setTimeout(function(){r=!0,n.abort()},t.timeOut);n.open("GET",t.url+"?"+T(t.data)),t.before(),n.onreadystatechange=function(){if(4===n.readyState){if(r)return;if(clearTimeout(o),200===n.status){var e=n.getResponseHeader("Content-Type");-1!==e.indexOf("xml")&&n.responseXML?t.success(n.responseXML):-1!==e.indexOf("application/json")?t.success(JSON.parse(n.responseText)):t.success(n.responseText)}else t.error(n);t.complete()}},n.send(null)}:function(t){var n=new XMLHttpRequest,e=null,r=!1,o=setTimeout(function(){r=!0,n.abort()},t.timeOut);n.open("POST",t.url),n.onreadystatechange=function(){if(4===n.readyState){if(r)return;if(clearTimeout(o),200===n.status){var e=n.getResponseHeader("Content-Type");-1!==e.indexOf("xml")&&n.responseXML?t.success(n.responseXML):-1!==e.indexOf("application/json")?t.success(JSON.parse(n.responseText)):t.success(n.responseText)}else t.error(n);t.complete()}},t.progress.enable&&n.upload&&(n.upload.onprogress=function(e){e.lengthComputable&&t.progress.receiveHandle(e)},n.upload.onload=function(e){t.progress.successHandle(e)});if("application/x-www-form-urlencoded"===t.contentType)n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e=T(t.data);else if("application/json"===t.contentType)n.setRequestHeader("Content-Type","application/json; charset=utf-8"),e=JSON.stringify(t.data);else if("multipart/form-data"===t.contentType){var a=new FormData;for(var i in t.data)t.data.hasOwnProperty(i)&&"function"!=typeof t.data[i]&&a.append(i,t.data[i]);for(var c=0;c<t.files.length;c++)a.append("file"+c,t.files[c]);e=a}n.send(e)})(t)}},D=window.document,x={type:!0,src:!0,nonce:!0,noModule:!0};var E={domEval:function(e,t,n){var r,o,a=(n=n||D).createElement("script");if(a.text=e,t)for(r in x)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)},trigger:function(e,t,n){var r,o={bubbles:!0,cancelable:!0,detail:n=n||{}};try{"undefined"!=typeof CustomEvent?r=new CustomEvent(t,o):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e&&e.dispatchEvent(r)}catch(e){console.warn("jinux-trigger is not supported by environment.")}},getStyle:function(e,t){var n;return(n=e.currentStyle?e.currentStyle:window.getComputedStyle(e,!1)).getPropertyValue(t)||n[t]},parseHtml:function(e){if(0===e.toLowerCase().trim().indexOf("<!doctype")){var t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,t}if("content"in document.createElement("template"))return(n=document.createElement("template")).innerHTML=e,n.content;var n,r=document.createDocumentFragment();for((n=document.createElement("body")).innerHTML=e,i=0;0<n.childNodes.length;)r.appendChild(n.childNodes[i]);return r}};var R={date2string:function(e,t,n){var r,o=arguments,a=e||new Date,i=t,c=n;if(0===o.length&&(i="-"),1===o.length)if("string"===h(a))i=a,a=new Date;else if("date"==h(a))i="-";else{if("boolean"!==h(a))return"arguments error";a=new Date,i="-",c=e}if(2===o.length&&("date"!==h(a)||"string"!==h(i)))if("date"===h(a)&&"boolean"===h(i))i="-",c=t;else{if("string"!==h(a)||"boolean"!==h(i))return"arguments error";a=new Date,i=e,c=t}if(3<=o.length&&("date"!==h(a)||"string"!=h(i)||"boolean"!=h(c)))return"arguments error";var u=a.getFullYear(),s=9<a.getMonth()+1?a.getMonth()+1:"0"+(a.getMonth()+1),l=9<a.getDate()?a.getDate():"0"+a.getDate(),f=9<a.getHours()?a.getHours():"0"+a.getHours(),d=9<a.getMinutes()?a.getMinutes():"0"+a.getMinutes(),p=9<a.getSeconds()?a.getSeconds():"0"+a.getSeconds();return r=u+i+s+i+l,c&&(r+=" "+f+":"+d+":"+p),r},getRangeDate:function(e,t){var n=t||"-";if("today"===e){var r=new Date,o=r.getFullYear()+n+(9<r.getMonth()+1?r.getMonth()+1:"0"+(r.getMonth()+1))+n+(9<r.getDate()?r.getDate():"0"+r.getDate());return[o,o]}if("week"===e){var a=new Date,i=[],c=a.getFullYear(),u=9<a.getMonth()+1?a.getMonth()+1:"0"+(a.getMonth()+1),s=a.getDay(),l=a.getDate();return a.setDate(l-s),i.push(c+n+u+n+a.getDate()),a.setDate(a.getDate()+6),i.push(c+n+u+n+a.getDate()),i}var f,d,p=new Date,g=[],m=p.getFullYear(),y=9<p.getMonth()+1?p.getMonth()+1:"0"+(p.getMonth()+1);return g.push(m+n+y+n+"01"),f=p.getMonth(),p.setDate(1),p.setMonth(f+1),p.setDate(0),d=p.getDate(),g.push(m+n+y+n+d),g}};var H={randomNum:function(e,t,n){return n?Math.floor(Math.random()*(t-e+1))+e:Math.random()*(t-e)+e},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)}};var A={debounce:function(e,t,n){function r(){s=!0,l=0,e.apply(c,i)}function o(){!0===d&&(l=0),s||!0!==p||r()}function a(){s=!1,i=arguments,c=this,0===l?!0===d&&r():clearTimeout(l),l=setTimeout(o,t)}var i,c,u=n||{},s=!1,l=0,f="boolean"==typeof n,d="leading"in u?u.leading:f,p="trailing"in u?u.trailing:!f;return a.cancel=function(){var e=0!==l;return clearTimeout(l),l=0,e},a},throttle:function(e,t,n){function r(){u=!0,e.apply(i,a),s=setTimeout(d,t)}function o(){a=arguments,i=this,u=!1,0===s&&(!0===l?r():!0===f&&(s=setTimeout(d,t)))}var a,i,c=n||{},u=!1,s=0,l=!("leading"in c)||c.leading,f="trailing"in c&&c.trailing,d=function(){s=0,u||!0!==f||r()};return o.cancel=function(){var e=0!==s;return clearTimeout(s),u=!1,s=0,e},o},curry:function n(o,a){return a=a||o.length,function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return 0<a-r.length?n(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.call.apply(o,[null].concat(r,t))},a-r.length):o.apply(null,r)}},compose:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}};return{arrayEqual:e.arrayEqual,arrayEach:e.arrayEach,isPlainObject:l.isPlainObject,assign:l.assign,deepClone:l.deepClone,isEmptyObject:l.isEmptyObject,setCookie:g.setCookie,getCookie:g.getCookie,removeCookie:g.removeCookie,urlQuery2Object:m.urlQuery2Object,object2UrlQuery:m.object2UrlQuery,toType:v.toType,browser:S.browser,ajax:S.ajax,domEval:E.domEval,trigger:E.trigger,getStyle:E.getStyle,parseHtml:E.parseHtml,price2chinese:{price2chinese:function(e){var t=["角","分"],n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],r=[["元","万","亿"],["","拾","佰","仟"]],o=e<0?"欠":"";e=Math.abs(e);for(var a="",i=0;i<t.length;i++)a+=(n[Math.floor(10*e*Math.pow(10,i))%10]+t[i]).replace(/零./,"");for(a=a||"整",e=Math.floor(e),i=0;i<r[0].length&&0<e;i++){for(var c="",u=0;u<r[1].length&&0<e;u++)c=n[e%10]+r[1][u]+c,e=Math.floor(e/10);a=c.replace(/(零.)*零$/,"").replace(/^$/,"零")+r[0][i]+a}return o+a.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}}.price2chinese,date2string:R.date2string,getRangeDate:R.getRangeDate,randomNum:H.randomNum,randomColor:H.randomColor,debounce:A.debounce,throttle:A.throttle,curry:A.curry,compose:A.compose}});
